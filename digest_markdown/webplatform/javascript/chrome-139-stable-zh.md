---
layout: default
title: Chrome 139 稳定版 – JavaScript 领域更新
---

````markdown
Save to: digest_markdown/webplatform/javascript/chrome-139-stable-zh.md

---

# Chrome 139 稳定版 – JavaScript 领域更新

## 1. 摘要

Chrome 139 对 JavaScript DOM API 进行了重要更新，放宽了对元素和属性名称的校验规则。此更改使 JavaScript DOM API 与 HTML 解析器更加一致，允许在以编程方式创建元素和属性时使用更广泛的有效字符和名称。

## 2. 主要影响

### 技术影响

- **现有实现**：此前因尝试使用某些字符创建元素或属性而失败的脚本现在将会成功，减少了标记解析与 DOM API 行为之间的不一致。
- **新能力**：开发者现在可以以编程方式创建名称范围更广的元素和属性，与 HTML 标记中可用的名称保持一致。
- **技术债务**：针对更严格 DOM API 校验的遗留代码可简化或重构。

## 3. 风险评估

**关键风险**：
- **破坏性更改**：未发现；此次为放宽限制，并非收紧。
- **安全考量**：允许更多字符可能会在假设更严格校验的代码中引入边界情况。请检查动态元素/属性创建相关的输入校验和安全逻辑。

**中等风险**：
- **弃用**：本次更改未涉及弃用内容。
- **性能影响**：预计无直接性能影响。

## 4. 推荐措施

### 立即行动

- 检查代码库中与 DOM 元素/属性创建相关的自定义校验或变通方案。
- 测试动态 DOM 创建逻辑，尤其是在使用非常规名称的场景。

### 短期规划

- 更新文档和开发者指南，反映新能力。
- 重构依赖于先前严格校验的遗留代码。

### 长期策略

- 持续关注因支持更广字符集而可能出现的安全或兼容性问题。
- 保持与不断演进的 DOM 和 HTML 解析规范同步。

## 5. 功能分析

### Allow more characters in JavaScript DOM APIs（允许在 JavaScript DOM API 中使用更多字符）

**影响级别**：🟡 重要

**变更内容**：
JavaScript DOM API 中元素和属性名称的校验规则已放宽。此前，这些 API 比 HTML 解析器更为严格，导致行为不一致。现在，API 允许更丰富的有效字符和名称，与 HTML 解析器的行为保持一致。

**意义**：
此更改消除了标记解析与 DOM API 使用之间长期存在的不一致。开发者现在可以像编写 HTML 一样灵活地以编程方式创建元素和属性，减少了阻碍和变通需求。

**实施建议**：
- 检查所有以编程方式动态创建元素或属性名称的代码。
- 移除基于更严格 DOM API 规则的多余校验或错误处理。
- 确保安全检查（如 XSS 防护）足够健壮，因为现在可能出现更多字符组合。

**参考资料**：
- [Tracking bug #40228234](https://issues.chromium.org/issues/40228234)
- [ChromeStatus.com entry](https://chromestatus.com/feature/6278918763708416)
- [Spec](https://dom.spec.whatwg.org/#namespaces)

---
````