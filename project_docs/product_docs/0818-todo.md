# 0818 TODO List

## ✅ 已完成事项（2025-08-18）

### 1. ✅ 修复没有 on-device AI area 的问题
**已完成的修改**：
- 在 `src/utils/yaml_pipeline.py` 的 area_mappings 中添加了 on-device-ai 映射
- 添加的 heading patterns：'On-device AI', 'AI', 'Machine Learning', 'Language Model', 'Prompt API'
- 现在可以生成独立的 on-device-ai YAML 文件

### 2. ✅ 修复 WebGPU YAML 仍未包含所有 WebGPU features 的问题
**问题根因**：
- link_extractor.py 只提取 H3 级别（###）的 features，忽略了 H2 级别（##）的内容
- 导致 merged WebGPU markdown 中的许多 H2 级别 features 没有被提取

**已完成的修改**：
- 修改 `src/utils/link_extractor.py` 第 162-174 行
- 现在同时提取 H2 和 H3 级别的 features（level in [2, 3]）
- 这将确保所有 WebGPU features 都能被正确提取到 YAML 中

### 3. ✅ 重组 processed YAML 文件结构
**已完成的修改**：
- 更新 `src/utils/yaml_pipeline.py` 中的 `_get_yaml_path` 方法
- 所有 YAML 文件现在保存到统一的 `processed_yaml` 目录
- 新的文件结构：
  - Area-specific: `processed_forwebplatform/processed_yaml/{area}-chrome-{version}-{channel}.yml`
  - General: `processed_forwebplatform/processed_yaml/chrome-{version}-{channel}-tagged.yml`

## 待验证事项

### 需要重新运行 pipeline 验证修改效果
运行以下命令重新生成 YAML 文件：
```bash
python3 src/processors/split_and_process_release_notes.py --version 139
```

验证点：
1. 检查是否生成了 `on-device-ai-chrome-139-stable.yml` 文件
2. 检查 `graphics-webgpu-chrome-139-stable.yml` 是否包含更多 features（预期 >5 个）
3. 确认所有 YAML 文件都在 `processed_yaml` 目录中

## 执行优先级
1. **高优先级**：修复 on-device AI area 问题（影响 AI 功能的正确分类）
2. **高优先级**：修复 WebGPU features 完整性问题（影响内容准确性）
3. **中优先级**：重组 YAML 文件结构（优化文件组织）

## 预期结果
- on-device AI 相关功能有独立的 YAML 文件
- WebGPU YAML 包含所有 WebGPU 相关 features（预期 >5 个 features）
- 所有 YAML 文件集中在 processed_yaml 目录，便于批量处理和访问