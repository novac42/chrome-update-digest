# WebGPU-First Release Processing (v2.1)

## Context
- Chromium WebGPU release notes now publish ahead of the associated Chrome stable entry (e.g., `webgpu-142` exists before `chrome-142.md`).
- The current pipeline (`clean_data_pipeline.process_version_markdown_only`) hard-fails when the Chrome note is absent, blocking any downstream artifacts.
- Stakeholders want WebGPU material surfaced as soon as it is available and later reconciled with the full Chrome drop.

## Goals
- Detect and ingest standalone WebGPU notes without waiting for the Chrome stable release article.
- Emit interim `graphics-webgpu` area files so digest consumers see timely updates.
- Avoid duplicate downloads and clearly track which versions are “partial” vs “complete”.
- Seamlessly upgrade partial outputs once the Chrome stable note arrives, preserving the merged workflow we already rely on.

## Non-Goals
- Changing the primary Chrome scraping logic or channel detection.
- Replacing the graphics/WebGPU dedupe heuristics in `WebGPUAreaExtractor`.
- Generating broader area outputs (CSS, Web APIs, etc.) before the Chrome note ships.

## Proposed Workflow
1. **WebGPU-Only Detection**
   - Extend `ReleaseMonitor` to write a `partial_webgpu` flag in `.monitoring/versions.json` when `detect_new_webgpu_versions` finds a version missing from `chrome` history.
   - Gate re-downloads by checking this flag to avoid repeatedly saving the same Markdown.
2. **Partial Processing Entry Point**
   - Add `process_webgpu_only(version)` to `CleanDataPipeline`.
     - Reads `webgpu-<version>.md`.
     - Cleans content with the existing `clean_webgpu_content`.
     - Reuses `WebGPUAreaExtractor` (`set_webgpu_content(...); extract([], '')`) to render Markdown.
     - Writes `upstream_docs/processed_releasenotes/processed_forwebplatform/areas/graphics-webgpu/chrome-<version>-stable.md` with a header annotating the output as “Chrome stable pending”.
   - Expose via CLI flag (`--webgpu-only`) for manual runs and automation hooks.
3. **Monitor Integration**
   - When a WebGPU-only release is detected, call the new CLI flag immediately after download.
   - Log completion and update `partial_webgpu`.
4. **Upgrade Path**
   - When `chrome-<version>.md` finally lands:
     - Normal `process_version` runs; it will overwrite the interim file with the merged Graphics/WebGPU content while generating other areas.
     - Clear the `partial_webgpu` flag for that version.
5. **Communications & QA**
   - Document the behavior in README / operator docs.
   - Add targeted unit tests:
     - WebGPU-only path produces the placeholder header and content.
     - Full run overwrites the placeholder.

## Open Questions
- Should the placeholder file include a machine-readable metadata block to signal “partial” status to downstream tools?
- Do we need to notify Slack/Status channels when a partial release is published?
- How do we want to handle beta-channel WebGPU notes if they begin landing early as well?
