# Chrome Digest GitHub Pages Output
# Updated to document the single Web Platform flow and dual navigation structure.

## Overview
The GitHub Pages site in `digest_markdown/` exposes Chrome web platform release notes in two complementary views:

- **By Version (`/versions/`)** – each Chrome stable release lists the feature areas that changed.
- **By Feature Area (`/areas/`)** – each focus area shows its history across versions.

All navigation, index pages, and Jekyll configuration are generated by running:

```
python3 src/tools/generate_github_pages_navigation.py
```

Use the `--clean` flag when regenerating from scratch (removes existing `versions/` and `areas/`). The generator automatically pulls display names and descriptions from `config/focus_areas.yaml`, ensuring a single source of truth for area metadata.

## Directory Layout
```
digest_markdown/
├── _config.yml               # Jekyll site configuration (auto-generated)
├── _layouts/default.html     # Shared layout with Versions/Areas navigation
├── index.md                  # Landing page with quick links
├── versions/
│   ├── index.md              # All versions overview
│   ├── chrome-{version}/
│   │   ├── index.md          # Version hub with area summaries
│   │   └── {area}.md         # Area content for that version (copied from upstream)
└── areas/
    ├── index.md              # All feature areas overview
    └── {area}/
        ├── index.md          # Area hub with version history
        └── chrome-{version}.md  # Version-specific content for the area
```

The legacy `webplatform/` directory is removed during generation to keep the output focused on the dual navigation structure.

## File Naming Rules
- Version directory names: `chrome-{version}` (e.g., `chrome-140`).
- Area content files inside a version: `{area}.md` (e.g., `css.md`).
- Area directories reuse the focus area slugs from `config/focus_areas.yaml` (e.g., `isolated-web-apps`).
- Area history pages: `chrome-{version}.md` inside the corresponding area directory.

All generated markdown files include Jekyll front matter (`layout: default`) so that Pages renders them with the shared layout.

## Generation Workflow
1. The generator scans `upstream_docs/processed_releasenotes/processed_forwebplatform/areas/` for `chrome-{version}-stable.md` files.
2. Stable-channel content is copied into the appropriate Version and Area pages.
3. Navigation copy (pluralisation, descriptions, quick links) is derived from `focus_areas.yaml` and live content counts.
4. `_config.yml` is rewritten to keep the Jekyll site consistent, and the legacy `webplatform/` tree is deleted if present.

## Validation
Run `python3 src/tools/validate_github_pages.py` after generation to check for missing files, broken links, or missing front matter. This step is integrated into the MCP orchestration flow.

## Maintenance Tips
- Update `config/focus_areas.yaml` when adding or renaming feature areas; the generator will pick up the change automatically.
- Keep the shared layout (`digest_markdown/_layouts/default.html`) limited to the core navigation buttons (Home, Versions, Feature Areas).
- Regenerate the site after each Chrome stable release so the landing page and per-area timelines stay current.
